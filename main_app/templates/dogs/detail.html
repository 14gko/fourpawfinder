{% extends 'base.html' %}
{% block content %}

<h1>Dog report</h1>

<div>
    <p>{{ dog.name }} </p>
    <p>{{ dog.location }} </p>
    <p>{{ dog.description }} </p>
    {{ dog.user }}
    <a href="{% url 'dogs_update' dog.id %}">edit </a>
    <a href="{% url 'dogs_delete' dog.id %}">delete </a>

    <!-- temp element for s3bucket -->
    {% for picture in dog.picture_set.all %}
    <img class="responsive-img card-panel" src="{{ picture.url }}">
    {% empty %}
    <div class="card-panel teal-text center-align">No Photos Uploaded</div>
    {% endfor %}

    <form action="{% url 'add_picture' dog.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
        {% csrf_token %}
        <input type="file" name="picture-file">
        <br><br>
        <input type="submit" class="btn" value="Upload picture">
    </form>

</div>

<ul>
    {% for comment in dog.comment_set.all %}
    <p>{{ comment.content }}</p>
    <p>{{ comment.user.username }}</p>
    <p>{{ comment.date_created}}</p>
    <form method="POST" action="{% url 'delete_comment' comment.dog.id comment.id %}">
        {% csrf_token %}<input type="submit" value="DELETE">
     </form>
    <br>
    {% endfor %}

</ul>



<form action="{% url 'add_comment' dog.id %}" method="POST">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <input type="submit" class="btn" value="Add Comment">
  </form>

{% endblock %}